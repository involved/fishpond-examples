/////////////////////////////////////////
// JAVASCRIPT TEMPLATES 
// Powered by Underscore.js 'Templates'
/////////////////////////////////////////

// Fish Template
%script{:id => "fishTemplate", :type => "text/html"}
	%li{ :data => { :id => "{{ fish.id }}" }, :class => "{{ status }} span2" }
		.thumbnail
			%strong.title {{ fish.title }}      
			.details
				{[ if (!_.isEmpty(metadata)) { ]}
				{{ fishDetailsData }}
				{[ } ]}


// Tags Template
%script{:id => "tagsTemplate", :type => "text/html"}
	.control-group
		%label.control-label
			{{ name }}
			%output (10)
		.controls
			%input{ :id => "query_tag_{{ token }}", :name => "query[tags][{{ token }}]", :type => "hidden", :value => "10", :data => { :slug => "{{ name }}" } }
			.slider.span2{ :data => { :target => "query[tags][{{ token }}]" } }


// Filters Template
%script{:id => "filtersTemplate", :type => "text/html"}
	.controls
		%label.checkbox
			%input{ :id => "query_filter_{{ token.id }}", :name => "query[filters][{{ token.id }}]", :type => "checkbox", :value => "0", :data => { :slug => "{{ token.slug }}" } }
			{{ token.name }}


// Fish Details Template
%script{:id => "fishDetailsTemplate", :type => "text/html"}
	%a{ :href => "#", :data => { :toggle => "modal" } }
		%img{ :src => "{{ metadata.thumbnail_url }}", :alt => "{{ metadata.title }}", :class => "profile" }
		{[ if (!_.isEmpty(shortlist)) { ]}          
		%a{ :href => "#", :class => "btn btn-mini {{ shortlist.shortlistClass }}", :data => { :id => "{{ metadata.id }}", :title => "{{ metadata.title }}", :thumbnail => "{{ metadata.thumbnail_url }}", :toggle => "shortlist" } }
			%i.icon-star
			%span
				{{ shortlist.wording }}
		{[ } ]}


// Modal Template
%script{:id => "modalTemplate", :type => "text/html"}
	.modal-header
		%button.close{"data-dismiss" => "modal"} Ã—
		%h3 {{ metadata.title }}
	.modal-body
		.row
			.span3
				%img{:alt => "{{ metadata.title }}", :src => "{{ metadata.image_url }}"}/
			.span8
				%p {{ metadata.description }}
				= link_to "Find out more", "{{ metadata.url }}", :target => "_blank"
				%br
				%br
				{[ if (!_.isEmpty(shortlist)) { ]}
				%a{ :href => "#", :class => "btn btn-mini {{ shortlist.shortlistClass }}", :data => { :id => "{{ metadata.id }}", :title => "{{ metadata.title }}", :thumbnail => "{{ metadata.thumbnail_url }}", :toggle => "shortlist" } }
					%i.icon-star
					%span
						{{ shortlist.wording }}
				{[ } ]}
				%a{ :href => "./kitchen-sink/comments/?1234#disqus_thread", :class => "btn btn-mini", :data => { :id => "{{ metadata.id }}", :toggle => "comments" } }
					%i.icon-comment
					%span
						View Comments
		.row
			.span11
				.comment_box{ :id => "comment_{{ metadata.id }}" }
	.modal-footer
		%a.btn{"data-dismiss" => "modal", :href => "#"} Close


// Shortlist (Master) Template
%script{:id => "shortlistTemplate", :type => "text/html"}
	%li{ :data => { :id => "{{ fishID }}" } }
		%a{ :href => "#", :data => { :toggle => "modal" } }
			%img{ :src => "{{ thumbnail_url }}", :alt => "{{ title }}", :class => "profile" }
