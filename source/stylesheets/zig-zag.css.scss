$fish-width: 140px;

#query{
  #results{
    .thumbnails{
      .fish{
        margin-left: 20px;
        float: left;
        margin-bottom: 18px;

        &.pos1{
          border-top: orange 3px solid;
        }
        &.pos2{
          border-top: green 3px solid;
        }

        &:before {
          content: "New: " attr(data-pos-end);
        }

        &:after {
          content: "Current: " attr(data-pos-start);
        }

        &[data-pos-end='0']{
          border-bottom: green 2px solid;
        }

        $i: 40;
        @while $i > 0 {
          &.pos-#{$i} { width: $fish-width - ($i*2); }
          $i: $i - 1;
        }

        &.animating{
          border-top: blue 2px solid;
        }
      }
    }
  }
}